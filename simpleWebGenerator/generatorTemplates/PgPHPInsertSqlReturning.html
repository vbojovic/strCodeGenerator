<script type="text/html" id="user_tmpl">
    <pre>
       <code>
           
<ol  >       
    <li>class ProjectSql{</li>
    <li>    var $db=new DatabaseConnection();</li>
<% 
    for ( var i = 0; i < selectedTables.length; i++ ) {           
       var schemaName=selectedTables[i].schema;              
       var tableName=selectedTables[i].table;                
       var attribsNonAutogenerated=generator.getTableFieldNamesArr(schemaName,tableName,true);  
       var attribsNonAutogeneratedJoined=attribsNonAutogenerated.join(',');  
       var phpArgs = genericHelper.joinArrayWithPRefixes(attribsNonAutogenerated, '$', ',');  
       var phpVars = genericHelper.joinArrayWithPRefixes(generator.getTableFieldNamesArr(schemaName,tableName,true), '{$', '},')+'}"'; 
       var phpVarsInStr = genericHelper.joinArrayWithGlues(attribsNonAutogenerated, '\'{$', '}\''  ,  ',');   
       var funcName = generator.getFunctionName(schemaName,tableName,false); 
       var allAttribsJoined = (generator.getTableFieldNamesArr(schemaName,tableName,false)).join(",");
%>
<li>public function <%=funcName%>Insert(<%=phpArgs%>){     </li>
<li>    $sql="insert into <%=schemaName%>.<%=tableName%>   </li>
<li>        (<%=attribsNonAutogenerated %>)                </li>
<li>        values                                         </li>
<li>        (<%=phpVarsInStr%>) </li>
<li>        returning <%=allAttribsJoined%>";  </li>
<li>    $this->db->setQuery($sql);</li>
<li>    return $this->db->sql2matrix();</li>
<li>}                                                      </li>

<% } %>
<li>}</li>
</ol>
           
   </code>
    </pre>
 </script>
